# [ShellClash](https://github.com/juewuy/ShellClash) æœ¬åœ°é…ç½®è‡ªå®šä¹‰è§„åˆ™å’Œä»£ç†ç»„ ruleset æ–¹æ¡ˆ
- æ³¨ï¼šæ­¤æ–¹æ¡ˆé‡‡ç”¨ `RULE-SET` è§„åˆ™æ­é… `rule-providers` é…ç½®é¡¹
# å‰è¨€
1. æœ¬æ•™ç¨‹åªé€‚ç”¨äº ShellClash
2. è‡ªå®šä¹‰è§„åˆ™å‚è€ƒ [DustinWin/clash-ruleset](https://github.com/DustinWin/clash-ruleset)
3. æœ¬æ•™ç¨‹**ä»…é€‚åˆç™½åå•æ¨¡å¼**ï¼ˆæ²¡æœ‰å‘½ä¸­è§„åˆ™çš„ç½‘ç»œæµé‡ï¼Œç»Ÿç»Ÿä½¿ç”¨ä»£ç†ï¼Œé€‚ç”¨äºæœåŠ¡å™¨çº¿è·¯ç½‘ç»œè´¨é‡ç¨³å®šã€å¿«é€Ÿï¼Œä¸ç¼ºæœåŠ¡å™¨æµé‡çš„ç”¨æˆ·ï¼‰ï¼Œé»‘åå•æ¨¡å¼ï¼ˆåªæœ‰å‘½ä¸­è§„åˆ™çš„ç½‘ç»œæµé‡ï¼Œæ‰ä½¿ç”¨ä»£ç†ï¼Œé€‚ç”¨äºæœåŠ¡å™¨çº¿è·¯ç½‘ç»œè´¨é‡ä¸ç¨³å®šæˆ–ä¸å¤Ÿå¿«ï¼Œæˆ–æœåŠ¡å™¨æµé‡ç´§ç¼ºçš„ç”¨æˆ·ã€‚é€šå¸¸ä¹Ÿæ˜¯è½¯è·¯ç”±ç”¨æˆ·ã€å®¶åº­ç½‘å…³ç”¨æˆ·çš„å¸¸ç”¨æ¨¡å¼ï¼‰æ…ç”¨
4. æœ¬æ•™ç¨‹æœ€ç»ˆæ•ˆæœåª²ç¾ã€Š[ç”Ÿæˆå¸¦æœ‰è‡ªå®šä¹‰è§„åˆ™å’Œä»£ç†ç»„çš„é…ç½®æ–‡ä»¶ yaml ç›´é“¾ ruleset æ–¹æ¡ˆ](https://github.com/DustinWin/clash-tutorials/blob/main/%E6%95%99%E7%A8%8B%E5%90%88%E9%9B%86/%E5%9F%BA%E7%A1%80%E7%AF%87/%E7%94%9F%E6%88%90%E5%B8%A6%E6%9C%89%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A7%84%E5%88%99%E5%92%8C%E4%BB%A3%E7%90%86%E7%BB%84%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%20yaml%20%E7%9B%B4%E9%93%BE%20ruleset%20%E6%96%B9%E6%A1%88.md)ã€‹ï¼ˆä»£ç†ç»„æ›´ç›´è§‚ï¼Œæ“ä½œæ›´æ–¹ä¾¿ï¼‰ï¼Œä½†ä¸ä¾èµ–äºç½‘ç»œ
5. æ‰€æœ‰æ­¥éª¤å®Œæˆåï¼Œè¯·è¿æ¥ SSH æ‰§è¡Œå‘½ä»¤ `$clashdir/start.sh restart` åç”Ÿæ•ˆ
---
# ä¸€ã€ å¯¼å…¥ [Clash.Meta å†…æ ¸](https://github.com/MetaCubeX/Clash.Meta)å’Œè·¯ç”±è§„åˆ™æ–‡ä»¶
å¯å‚è€ƒã€Š[ShellClash é…ç½®](https://github.com/DustinWin/clash-tutorials/blob/main/%E6%95%99%E7%A8%8B%E5%90%88%E9%9B%86/%E5%9F%BA%E7%A1%80%E7%AF%87/ShellClash%20%E9%85%8D%E7%BD%AE.md)ã€‹é‡Œçš„æ­¥éª¤ã€Šä¸€ã€äºŒã€‹è¿›è¡Œæ“ä½œ
# äºŒã€ å¯¼å…¥é…ç½®æ–‡ä»¶
1. è¿›å…¥ ShellClash->6 å¯¼å…¥é…ç½®æ–‡ä»¶->1 åœ¨çº¿ç”ŸæˆClashé…ç½®æ–‡ä»¶->4 é€‰å–åœ¨çº¿é…ç½®è§„åˆ™æ¨¡ç‰ˆï¼Œé€‰æ‹© 4 [Acl4SSR](https://acl4ssr-sub.github.io) æç®€ç‰ˆï¼ˆé€‚åˆè‡ªå»ºèŠ‚ç‚¹ï¼‰  
<img src="https://github.com/DustinWin/clash-tutorials/assets/45238096/88b58a87-76b8-4004-b005-133d6a2bb71f" width="60%"/>

2. è¿›å…¥ ShellClash->6 å¯¼å…¥é…ç½®æ–‡ä»¶->1 åœ¨çº¿ç”ŸæˆClashé…ç½®æ–‡ä»¶ï¼Œè¾“å…¥è®¢é˜…é“¾æ¥åå›è½¦ï¼Œå†è¾“å…¥â€œ1â€å¹¶å›è½¦å³å¯
# ä¸‰ã€ è‡ªå®šä¹‰è§„åˆ™å’Œä»£ç†ç»„
## 1. è‡ªå®šä¹‰ others.yaml
è¿æ¥ SSH åæ‰§è¡Œå‘½ä»¤ `vi $clashdir/yamls/others.yaml`ï¼ŒæŒ‰ä¸€ä¸‹ Ins é”®ï¼ˆInsert é”®ï¼‰ï¼Œç²˜è´´å¦‚ä¸‹å†…å®¹ï¼š
```
proxy-providers:
  # è·å–æœºåœºè®¢é˜…é“¾æ¥å†…çš„æ‰€æœ‰èŠ‚ç‚¹
  ğŸ›« æˆ‘çš„æœºåœº 1:
    type: http
    # æœºåœºè®¢é˜…é“¾æ¥ï¼Œä½¿ç”¨ Clash é“¾æ¥
    url: 'https://example.com/xxx/xxx&flag=clash'
    path: ./proxies/airport1.yaml
    interval: 43200
    # åˆæ­¥ç­›é€‰éœ€è¦çš„èŠ‚ç‚¹ï¼Œæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼Œä¸ç­›é€‰å¯åˆ é™¤æ­¤é…ç½®é¡¹
    filter: "é¦™æ¸¯|å°æ¹¾|æ—¥æœ¬|éŸ©å›½|æ–°åŠ å¡|ç¾å›½"
    health-check:
      enable: true
      # æœªé€‰æ‹©åˆ°å½“å‰ç­–ç•¥ç»„æ—¶ï¼Œä¸ä¼šè¿›è¡Œæµ‹è¯•
      lazy: true
      url: 'https://www.gstatic.com/generate_204'
      interval: 600

  ğŸ›« æˆ‘çš„æœºåœº 2:
    type: http
    url: 'https://example.com/xxx/xxx&flag=clash'
    path: ./proxies/airport2.yaml
    interval: 43200
    filter: "é¦™æ¸¯|å°æ¹¾|æ—¥æœ¬|éŸ©å›½|æ–°åŠ å¡|ç¾å›½"
    health-check:
      enable: true
      lazy: true
      url: 'https://www.gstatic.com/generate_204'
      interval: 600

# è§„åˆ™é›† .yaml æ–‡ä»¶ï¼›æ¯å¤©è‡ªåŠ¨æ›´æ–°
rule-providers:
  reject:
    type: http
    behavior: domain
    url: 'https://cdn.jsdelivr.net/gh/privacy-protection-tools/anti-AD@master/anti-ad-clash.yaml'
    path: ./ruleset/reject.yaml
    interval: 86400

  lan:
    type: http
    behavior: classical
    url: 'https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Lan/Lan_No_Resolve.yaml'
    path: ./ruleset/lan.yaml
    interval: 86400

  networktest:
    type: http
    behavior: classical
    url: 'https://cdn.jsdelivr.net/gh/DustinWin/clash-ruleset@release/networktest.yaml'
    path: ./ruleset/networktest.yaml
    interval: 86400

  microsoft-cn:
    type: http
    behavior: domain
    url: 'https://rules.kr328.app/microsoft@cn.yaml'
    path: ./ruleset/microsoft-cn.yaml
    interval: 86400

  apple-cn:
    type: http
    behavior: domain
    url: 'https://rules.kr328.app/apple@cn.yaml'
    path: ./ruleset/apple-cn.yaml
    interval: 86400

  google-cn:
    type: http
    behavior: domain
    url: 'https://cdn.jsdelivr.net/gh/DustinWin/clash-ruleset@release/google-cn.yaml'
    path: ./ruleset/google-cn.yaml
    interval: 86400

  games-cn:
    type: http
    behavior: domain
    url: 'https://rules.kr328.app/category-games@cn.yaml'
    path: ./ruleset/games-cn.yaml
    interval: 86400

  proxy:
    type: http
    behavior: classical
    url: 'https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Proxy/Proxy_Classical.yaml'
    path: ./ruleset/proxy.yaml
    interval: 86400

  direct:
    type: http
    behavior: classical
    url: 'https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/ChinaMax/ChinaMax_Classical.yaml'
    path: ./ruleset/direct.yaml
    interval: 86400
```
æŒ‰ä¸€ä¸‹ Esc é”®ï¼ˆé€€å‡ºé”®ï¼‰ï¼Œè¾“å…¥è‹±æ–‡å†’å·â€œ:â€ï¼Œç»§ç»­è¾“å…¥â€œwqâ€å¹¶å›è½¦
## 2. è‡ªå®šä¹‰ proxy-groups.yaml
è¿æ¥ SSH åæ‰§è¡Œå‘½ä»¤`vi $clashdir/yamls/proxy-groups.yaml`ï¼ŒæŒ‰ä¸€ä¸‹ Ins é”®ï¼ˆInsert é”®ï¼‰ï¼Œç²˜è´´å¦‚ä¸‹å†…å®¹ï¼š
```
# æ‰‹åŠ¨é€‰æ‹©å›½å®¶æˆ–åœ°åŒºèŠ‚ç‚¹ï¼›æ ¹æ® proxy-groups ä¸­ï¼ˆä¸‹æ–¹ï¼‰å›½å®¶æˆ–åœ°åŒºçš„èŠ‚ç‚¹åç§°å¯¹ proxies å€¼è¿›è¡Œå¢åˆ æ”¹ï¼Œé¡»ä¸€ä¸€å¯¹åº”
- name: ğŸˆ¯ èŠ‚ç‚¹æŒ‡å®š
  type: select
  proxies:
    - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
    - ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹
    - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
    - ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹
    - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
    - ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹

# Speedtest æµ‹é€Ÿç½‘ç«™ï¼šé€‰æ‹©â€œå…¨çƒç›´è¿â€ä¸ºæµ‹è¯•æœ¬åœ°ç½‘ç»œé€Ÿåº¦ï¼ˆè¿è¥å•†ç½‘ç»œé€Ÿåº¦ï¼‰ï¼Œå¯é€‰æ‹©å…¶å®ƒèŠ‚ç‚¹ç”¨äºæµ‹è¯•æœºåœºèŠ‚ç‚¹é€Ÿåº¦
- name: ğŸ“ˆ ç½‘ç»œæµ‹è¯•
  type: select
  proxies:
    - ğŸ¯ å…¨çƒç›´è¿
    - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
    - ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹
    - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
    - ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹
    - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
    - ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹

- name: âš¡ ç›´è¿åŸŸå
  type: select
  proxies:
    - ğŸ¯ å…¨çƒç›´è¿
    - ğŸˆ¯ èŠ‚ç‚¹æŒ‡å®š

- name: ğŸªœ ä»£ç†åŸŸå
  type: select
  proxies:
    - ğŸˆ¯ èŠ‚ç‚¹æŒ‡å®š
    - ğŸ¯ å…¨çƒç›´è¿

- name: ğŸ® å›½åŒºæ¸¸æˆ
  type: select
  proxies:
    - ğŸ¯ å…¨çƒç›´è¿
    - ğŸˆ¯ èŠ‚ç‚¹æŒ‡å®š

- name: â“‚ï¸ Microsoft ä¸­å›½
  type: select
  proxies:
    - ğŸ¯ å…¨çƒç›´è¿
    - ğŸˆ¯ èŠ‚ç‚¹æŒ‡å®š

- name: ğŸ—½ Google ä¸­å›½
  type: select
  proxies:
    - ğŸ¯ å…¨çƒç›´è¿
    - ğŸˆ¯ èŠ‚ç‚¹æŒ‡å®š

- name: ğŸ Apple ä¸­å›½
  type: select
  proxies:
    - ğŸ¯ å…¨çƒç›´è¿
    - ğŸˆ¯ èŠ‚ç‚¹æŒ‡å®š

- name: ğŸ  ç§æœ‰ç½‘ç»œ
  type: select
  proxies:
    - ğŸ¯ å…¨çƒç›´è¿

- name: â›”ï¸ å¹¿å‘ŠåŸŸå
  type: select
  proxies:
    - ğŸ›‘ å…¨çƒæ‹¦æˆª

- name: ğŸ›‘ å…¨çƒæ‹¦æˆª
  type: select
  proxies:
    - REJECT

# -----------------å›½å®¶æˆ–åœ°åŒºèŠ‚ç‚¹----------------------

# è‡ªåŠ¨é€‰æ‹©èŠ‚ç‚¹ï¼Œå³æŒ‰ç…§ url æµ‹è¯•ç»“æœä½¿ç”¨å»¶è¿Ÿæœ€ä½çš„èŠ‚ç‚¹
- name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
  type: url-test
  # æµ‹è¯•åå®¹å·®å¤§äº 100ms æ‰ä¼šåˆ‡æ¢åˆ°å»¶è¿Ÿä½çš„é‚£ä¸ªèŠ‚ç‚¹
  tolerance: 100
  # æœªé€‰æ‹©åˆ°å½“å‰ç­–ç•¥ç»„æ—¶ä¸ä¼šè¿›è¡Œå»¶è¿Ÿæµ‹è¯•
  lazy: true
  use:
    - ğŸ›« æˆ‘çš„æœºåœº 1
    - ğŸ›« æˆ‘çš„æœºåœº 2
  # ç­›é€‰å‡ºâ€œé¦™æ¸¯â€èŠ‚ç‚¹ï¼Œæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼
  filter: "é¦™æ¸¯"

- name: ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹
  type: url-test
  tolerance: 100
  lazy: true
  use:
    - ğŸ›« æˆ‘çš„æœºåœº 1
    - ğŸ›« æˆ‘çš„æœºåœº 2
  filter: "å°æ¹¾"

- name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
  type: url-test
  tolerance: 100
  lazy: true
  use:
    - ğŸ›« æˆ‘çš„æœºåœº 1
    - ğŸ›« æˆ‘çš„æœºåœº 2
  filter: "æ—¥æœ¬"

- name: ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹
  type: url-test
  tolerance: 100
  lazy: true
  use:
    - ğŸ›« æˆ‘çš„æœºåœº 1
    - ğŸ›« æˆ‘çš„æœºåœº 2
  filter: "éŸ©å›½"

- name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
  type: url-test
  tolerance: 100
  lazy: true
  use:
    - ğŸ›« æˆ‘çš„æœºåœº 1
    - ğŸ›« æˆ‘çš„æœºåœº 2
  filter: "æ–°åŠ å¡"

- name: ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹
  type: url-test
  tolerance: 100
  lazy: true
  use:
    - ğŸ›« æˆ‘çš„æœºåœº 1
    - ğŸ›« æˆ‘çš„æœºåœº 2
  filter: "ç¾å›½"
```
æŒ‰ä¸€ä¸‹ Esc é”®ï¼ˆé€€å‡ºé”®ï¼‰ï¼Œè¾“å…¥è‹±æ–‡å†’å·â€œ:â€ï¼Œç»§ç»­è¾“å…¥â€œwqâ€å¹¶å›è½¦
## 3. è‡ªå®šä¹‰ rules.yaml
è¿æ¥ SSH åæ‰§è¡Œå‘½ä»¤`vi $clashdir/yamls/rules.yaml`ï¼ŒæŒ‰ä¸€ä¸‹ Ins é”®ï¼ˆInsert é”®ï¼‰ï¼Œç²˜è´´å¦‚ä¸‹å†…å®¹ï¼š
```
# è‡ªå®šä¹‰è§„åˆ™ä¼˜å…ˆæ”¾å‰é¢
- RULE-SET,reject,â›”ï¸ å¹¿å‘ŠåŸŸå
- RULE-SET,lan,ğŸ  ç§æœ‰ç½‘ç»œ
- RULE-SET,networktest,ğŸ“ˆ ç½‘ç»œæµ‹é€Ÿ
- RULE-SET,microsoft-cn,â“‚ï¸ Microsoft ä¸­å›½
- RULE-SET,apple-cn,ğŸ Apple ä¸­å›½
- RULE-SET,google-cn,ğŸ—½ Google ä¸­å›½
- RULE-SET,games-cn,ğŸ® å›½åŒºæ¸¸æˆ
- RULE-SET,proxy,ğŸªœ ä»£ç†åŸŸå
- RULE-SET,direct,âš¡ ç›´è¿åŸŸå
```
æŒ‰ä¸€ä¸‹ Esc é”®ï¼ˆé€€å‡ºé”®ï¼‰ï¼Œè¾“å…¥è‹±æ–‡å†’å·â€œ:â€ï¼Œç»§ç»­è¾“å…¥â€œwqâ€å¹¶å›è½¦
# å››ã€ ä¿®æ”¹è§„åˆ™æˆ–ä»£ç†ç»„
**ä¸¾ä¾‹ï¼šæˆ‘æƒ³æ·»åŠ ä¸€ä¸ªè§„åˆ™ï¼Œä½¿å¥ˆé£èµ°æ—¥æœ¬å’Œæ–°åŠ å¡èŠ‚ç‚¹**  
â‘  è¿›å…¥ [blackmatrix7/ios_rule_script/rule/Clash](https://github.com/blackmatrix7/ios_rule_script/tree/master/rule/Clash) åæŒ‰ Ctrl+F ç»„åˆé”®åˆ†åˆ«æœç´¢â€œnetflixâ€  
â‘¡ å¯ä»¥ç²¾ç¡®æœç´¢åˆ°â€œnetflixâ€
â‘¢ è¿›å…¥æŒ‡å®šç›®å½•å¹¶ç‚¹å‡» yaml æ–‡ä»¶ï¼Œç„¶åç‚¹å‡»â€œRawâ€è·å–ä¸‹è½½åœ°å€ï¼Œå¹¶å°†ä¸‹è½½åœ°å€[è½¬æ¢ä¸º CDN é“¾æ¥](https://www.jsdelivr.com/github)ï¼Œé‚£ä¹ˆå°±å¯ä»¥è¿™æ ·ç¼–å†™ï¼š
æ³¨ï¼š
- 1. **ä¸€å®šè¦ä¿è¯ç¼©è¿›å¯¹é½ï¼ä¸€å®šè¦ä¿è¯ç¼©è¿›å¯¹é½ï¼ä¸€å®šè¦ä¿è¯ç¼©è¿›å¯¹é½ï¼**
- 2. ä»¥ä¸‹åªæ˜¯èŠ‚é€‰ï¼Œè¯·é…Œæƒ…å¥—ç”¨
- 3. æ¨èä½¿ç”¨ [VSCode ç¼–è¾‘å™¨](https://code.visualstudio.com/Download) æˆ–å…¶å®ƒä¸“ä¸šæ–‡æœ¬ç¼–è¾‘å™¨

## 1. ä¿®æ”¹ others.yaml æ–‡ä»¶
â‘  è¿æ¥ SSH åæ‰§è¡Œå‘½ä»¤ `vi $clashdir/yamls/others.yaml`ï¼ŒæŒ‰ä¸€ä¸‹ Ins é”®ï¼ˆInsert é”®ï¼‰ï¼Œåœ¨ `rule-providers` å†…ç²˜è´´å¦‚ä¸‹å†…å®¹ï¼š
```
  netflix:
    type: http
    behavior: classical
    url: 'https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Netflix/Netflix.yaml'
    path: ./ruleset/netflix.yaml
    interval: 86400
```
â‘¡ æŒ‰ä¸€ä¸‹ Esc é”®ï¼ˆé€€å‡ºé”®ï¼‰ï¼Œè¾“å…¥è‹±æ–‡å†’å·â€œ:â€ï¼Œç»§ç»­è¾“å…¥â€œwqâ€å¹¶å›è½¦
## 2. ä¿®æ”¹ proxy-groups.yaml æ–‡ä»¶
è¿æ¥ SSH åæ‰§è¡Œå‘½ä»¤ `vi $clashdir/yamls/proxy-groups.yaml`ï¼ŒæŒ‰ä¸€ä¸‹ Ins é”®ï¼ˆInsert é”®ï¼‰ï¼Œç²˜è´´å¦‚ä¸‹å†…å®¹ï¼š
```
# æ‰“å¼€å¥ˆé£åè‡ªåŠ¨é€‰æ‹©å»¶è¿Ÿæœ€ä½çš„æ—¥æœ¬æˆ–æ–°åŠ å¡èŠ‚ç‚¹ï¼›å®¹å·®å¤§äº 100ms æ‰ä¼šåˆ‡æ¢åˆ°å»¶è¿Ÿä½çš„é‚£ä¸ªèŠ‚ç‚¹ï¼›æœªé€‰æ‹©åˆ°å½“å‰ç­–ç•¥ç»„æ—¶ä¸ä¼šè¿›è¡Œå»¶è¿Ÿæµ‹è¯•
- name: ğŸ¥ å¥ˆé£èŠ‚ç‚¹
  type: url-test
  tolerance: 100
  use:
    - ğŸ›« æˆ‘çš„æœºåœº 1
    - ğŸ›« æˆ‘çš„æœºåœº 2
  filter: "æ—¥æœ¬|æ–°åŠ å¡"
```
æŒ‰ä¸€ä¸‹ Esc é”®ï¼ˆé€€å‡ºé”®ï¼‰ï¼Œè¾“å…¥è‹±æ–‡å†’å·â€œ:â€ï¼Œç»§ç»­è¾“å…¥â€œwqâ€å¹¶å›è½¦
## 3. ä¿®æ”¹ rules.yaml æ–‡ä»¶
è¿æ¥ SSH åæ‰§è¡Œå‘½ä»¤ `vi $clashdir/yamls/rules.yaml`ï¼ŒæŒ‰ä¸€ä¸‹ Ins é”®ï¼ˆInsert é”®ï¼‰ï¼Œ**ä¼˜å…ˆåœ¨æœ€ä¸Šæ–¹**ç²˜è´´å¦‚ä¸‹å†…å®¹ï¼š
```
# è‡ªå®šä¹‰è§„åˆ™ä¼˜å…ˆæ”¾å‰é¢
- RULE-SET,netflix,ğŸ¥ å¥ˆé£èŠ‚ç‚¹
```
æŒ‰ä¸€ä¸‹ Esc é”®ï¼ˆé€€å‡ºé”®ï¼‰ï¼Œè¾“å…¥è‹±æ–‡å†’å·â€œ:â€ï¼Œç»§ç»­è¾“å…¥â€œwqâ€å¹¶å›è½¦
# äº”ã€ æ·»åŠ å°è§„åˆ™
ä»…æ·»åŠ ç‰¹å®šç½‘å€èµ°ç›´è¿æˆ–èµ°ä»£ç†ï¼Œè¿æ¥ SSH åæ‰§è¡Œå‘½ä»¤ `vi $clashdir/yamls/rules.yaml`ï¼ŒæŒ‰ä¸€ä¸‹ Ins é”®ï¼ˆInsert é”®ï¼‰ï¼Œåœ¨**æœ€ä¸Šæ–¹**ç²˜è´´å¦‚ä¸‹å†…å®¹ï¼š  
æ³¨ï¼š
- 1. ä»¥ä¸‹å†…å®¹åªæ˜¯ä¸¾ä¾‹ï¼Œè¯·æ ¹æ®è‡ªèº«éœ€è¦è¿›è¡Œå¢åˆ æ”¹
- 2. å…¶å®ƒè§„åˆ™è¯·å‚è€ƒã€Š[Clash.Meta Wiki](https://wiki.metacubex.one/config/rules)ã€‹

```
# ä»¥ googleapis.cn ä¸ºåç¼€çš„æ‰€æœ‰åŸŸåèµ°ä»£ç†
- DOMAIN-SUFFIX,googleapis.cn,ğŸš€ èŠ‚ç‚¹é€‰æ‹©

# ä¸å“”å“©å“”å“©ç›¸å…³çš„æ‰€æœ‰åŸŸåèµ°ç›´è¿
- GEOSITE,bilibili,DIRECT

# å«æœ‰ ipv6 å…³é”®å­—çš„æ‰€æœ‰åŸŸåèµ°ç›´è¿
- DOMAIN-KEYWORD,ipv6,DIRECT
```
æŒ‰ä¸€ä¸‹ Esc é”®ï¼ˆé€€å‡ºé”®ï¼‰ï¼Œè¾“å…¥è‹±æ–‡å†’å·â€œ:â€ï¼Œç»§ç»­è¾“å…¥â€œwqâ€å¹¶å›è½¦
